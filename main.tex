\documentclass[10pt, a4paper]{article}
\usepackage[czech]{babel}
\usepackage[T1]{fontenc}
\usepackage[utf8]{inputenc}
\usepackage{enumitem}
%\usepackage{parskip}
\usepackage{tocloft}
\usepackage{multicol}
\usepackage[hidelinks]{hyperref}
\usepackage{graphicx}
\usepackage{float}
\usepackage{mathtools}
\usepackage{array}
\usepackage{tabularx}
\usepackage{cite}
\usepackage{listings}
\usepackage{graphicx}

\begin{document}

% =====================================
% Titulní strana
% =====================================
\begin{titlepage}
    \includegraphics[width=0.80\textwidth]{images/fav.pdf}
    \begin{center}
        \vspace{2cm}

        \LARGE
        Semestrální práce z KIV/PRO

        \Huge
        \textbf{Časově efektivní algoritmus A* pro plánování trasy robota}

        \vspace{1cm}

        \vfill

        \vspace{0.5cm}

        \normalsize
        \raggedright
        Autor: Vít Novotný \hfill Datum: \today

        \vspace{0.2cm}

    \end{center}
\end{titlepage}

\thispagestyle{empty}
\pagebreak

% =====================================
% Obsah
% =====================================
\setcounter{page}{2}
\renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsubsecleader}{\cftdotfill{\cftdotsep}}
\renewcommand{\cftsubsubsecleader}{\cftdotfill{\cftdotsep}}

\tableofcontents
\pagebreak

% =====================================
% Tělo dokumentu
% =====================================

\section{Úvod}

Tato práce vychází ze článku \textit{Time-Efficient A* Algorithm for Robot Path Planning} \cite{MainWork}, která pojednává o problematice efektivního využití algoritmu A* pro plánování trasy robotů v průmyslu. Všechna data, tabulky a obrázky jsou využity z již zmíněného vycházející práce. Tento dokument je psán tak, aby důležité informace byly pochopitelné pro studenta 2. ročníku informatiky.

Plánování trasy (angl. path planning) představuje jeden ze základních problému v oblasti robotiky. Cílem je nalést optimální cestu bez kolizí mezi počátečním a cílovým bodem v daném prostředí. Lze rozlišit dva hlavní přístupy plánování – \textbf{Offline} a \textbf{Online}

Při \textbf{Offline} předpokládáme, že prostředí je předem známo a všechny překážky jsou nehybné, což umožňuje předání kompletní geometrie pracovního prostředí jakožto vstup algoritmu.

Oproti tomu \textbf{Online} přístup využívá data ze senzorů v reálném čase a trajektorii vypočítává za běhu podle aktuální situace.

Tento algoritmus se zaměřuje na offline plánování trasy v prostředí s pevně určenými překážkami.

Mobilní roboti (autonomní robot, který za použití trasovacích algoritmů hledá optimální cestu) mohou využít různé typy algoritmů, jako např. genetické algoritmy, umělé neuronové sítě (ANN) či A* algoritmus, který bývá užíván nejčastěji. Kombinuje heuristický odhad s hodnotou náladů jednotlivých uzlů v mřížce, čímž umožnuje nalést řešení blízké optimu.

Klasický A* algoritmus s sebou nese určité nevýhody - při větším počtu uzlů je výpočet časově náročný a jeho výkon výrazně klesá, zejména při využití procesorů s nižším výpočetním výkonem. Autoři článku Aksay Kumar Guruji, Himash Agarwal and D.K Parsediya navrhují vylepšenou verzi A* algorimtu, která tyto problémy částečně eliminuje.

Nový přístup počítá heuristickou funkci pouze těsně před kolizí, čímž se výrazně snižuje počet zbytečných výpočtů. Díky tomu lze algoritmus efektivně používat i na starších nebo méně vykonných zařízeních, aniž by ztratil klíčové vlastnosti původního A*.
Při velkých vzdálenostech mezi počátečním a cílovým bodem lze dosáhnout zkrácení doby výpočtu až o 75 \% při minimálním prodloužení cesty.

\newpage
\section{Navrhovaný algoritmus a jeho podmínky}
Klasický A* algoritmus určuje nejkratší cestu mezi dvěma body v grafu (v našem případě v mřížce) na základě součtu dvou hodnot: \textbf{g(x)} a \textbf{h(x)}.

Funkce \textbf{g(x)} představuje skutečné náklady cesty od počátečního bodu k aktuálnímu uzlu, zatímco \textbf{h(x)} je heuristický odhad vzdálenosti od aktuálního uzlu k cíli.\cite{WikiAStar}.
Celkovou hodnotu každého uzlu určuje vztah $f(x) = g(x) + h(x)$.
Uzel $f(x)$ využijeme jako nový aktuální.

Tento přístup zaručuje nalezení optimální nebo téměř optimální cesty, ale může být značně výpočetně náročný, zejména pokud je prostředí rozsáhlé nebo obsahuje mnoho překážek.

Vylepšený algoritmus, označovaný jako Time-Efficient A* (časově efektivní A*) algoritmus, se snaží tento problém řešit a snížit výpočetní náročnost.

Hlavní rozdíl spočívá v tom, že funkce $g(x)$ je počítána pouze před detekcí kolize, zatímco kompletní $f(x)$ je počátán až těsně před a po kolizním bodě.

Tím se eliminuje nutnost neustálého výpočtu heuristiky ve všech uzlech, což významě redukuje celkový výpočetní čas.
Díky tomuto přístupu je robot schopen rychleji vykonávat své úlohy, jelikož algoritmus počítá samotný A* až v bodě, kdy je opravdu potřeba.

Celkový postup Time-Efficient A* je složen z pěti fází:

\subsection{Tvorba vstupních dat}
V první fázi je vytvořena pracovní oblast ve formě binárního obrazu, který představuje prostředí, ve kterém se robot pohybuje.
Černé oblasti obrazu odpovídají překážkám, zatímco bílé oblasti označují volný prostor, kterým se robot může pohybovat.
Takto definované prostředí umožňuje snadné převádění souřadnic na diskrétní buňky mřížky.
Obraz je přitom považován za symetricky umístěný vůči počátku souřadnicového systému (0,0), tedy ke středu roviny X–Y.
V rámci této fáze jsou rovněž zadány souřadnice počátečního a cílového bodu, které představují vstupní parametry algoritmu.
Tyto body definují výchozí a koncový stav plánované trasy.

\subsection{Vzdálenostní kontrola}
Ve druhé fázi algoritmus vyhodnocuje vzájemnou vzdálenost mezi počátečním a cílovým bodem.
Tento krok má za cíl zvolit vhodnou metodu plánování trasy podle délky cesty, která má být naplánována.
Pokud je vzdálenost mezi body malá, je efektivnější použít klasický algoritmus A*, protože v takovém případě je výpočetní náročnost zanedbatelná a přímá aplikace heuristiky nezpůsobuje výrazné zpoždění.
Naopak, pokud je vzdálenost velká, algoritmus přechází k vylepšenému (časově efektivnímu) A*, který využívá optimalizace pro zkrácení výpočetního času.
Tímto rozhodovacím krokem se snižuje množství zbytečných výpočtů a zvyšuje celková efektivita algoritmu, zejména při pohybu na rozsáhlejších mapách.

\subsection{Výpočet náklonu a předpočet trasy}
Třetí fáze je klíčová pro samotné ověření přímé viditelnosti mezi počátečním a cílovým bodem.
Algoritmus nejprve vypočítá sklon přímky, která tyto body spojuje.
Sklon představuje poměr změn souřadnic na osách X a Y a určuje tak úhel a směr této spojnice:
$$ m = \frac{y_{target} - y_{source}}{x_{target} - x_{source}} $$
Na základě vypočteného sklonu algoritmus iterativně promítá jednotlivé body přímky mezi počátečním a cílovým bodem.
Tato projekce probíhá po jednotlivých pixelech mřížky a při každém kroku se kontroluje, zda daný pixel představuje volné místo nebo překážku.
Iterativní přístup je výpočetně jednodušší než přímý výpočet celé přepony, jelikož umožňuje rychle reagovat na nalezenou kolizi a přerušit výpočet v okamžiku, kdy je překážka detekována.

Pokud je vypočtený sklon rovný 1, jedná se o diagonální přímku pod úhlem 45°, kde se robot pohybuje současně ve směru osy X i Y.
V případě, že |m| < 1, jde o mírný sklon — robot se pohybuje převážně horizontálně a algoritmus postupuje po ose X, zatímco souřadnici Y dopočítává.
Naopak, pokud |m| > 1, jedná se o strmý sklon — pohyb převládá ve vertikálním směru a algoritmus postupuje po ose Y.
Při čistě horizontálním nebo vertikálním směru (x = 0 nebo y = 0) se iteruje pouze po jedné souřadnici.

\subsection{Detekce kolize s překážkou}
Čtvrtá fáze algoritmu slouží k vyhodnocení, zda při tvorbě přímky došlo ke kolizi s překážkou.
Na základě výsledků předchozí fáze se posuzuje, zda přímka spojující počáteční a cílový bod protíná oblast označenou jako překážka.
Pokud je celá přímka volná, je tato spojnice přímo zvolena jako výsledná trasa a výpočet algoritmu končí.

V případě, že algoritmus detekuje kolizi, identifikuje se bod, ve kterém k ní dochází, a současně se určí poslední volná pozice těsně před překážkou.
Tento bod je označen jako bod přepnutí (angl. Switching Point, zkráceně S-point).
Právě v tomto místě se algoritmus „přepíná“ z jednoduché  projekce přímky na podrobnější vyhledávací postup.
S-point tedy představuje hranici mezi přímou částí pohybu a následným plánováním pomocí A* algoritmu.

\newpage
\subsection{Přechod na algoritmus A*}
Pátá fáze představuje finální krok navrženého postupu.
Po nalezení S-pointu se spustí klasický A* algoritmus, který má za úkol nalézt nejkratší možnou kolizně volnou cestu z tohoto bodu až do cílové pozice.
Výsledná trasa se tak skládá ze dvou částí:
\begin{enumerate}
    \item
    přímý úsek mezi počátečním bodem a S-pointem
    \item
    optimalizovaný úsek vypočtený algoritmem A* mezi S-pointem a cílem
\end{enumerate}

Tento přístup umožňuje využít výhod obou metod — rychlost výpočtu pomocí přímky a přesnost heuristického plánování.
Zatímco A* algoritmus je výpočetně náročný, jeho použití je omezeno pouze na část, kde se skutečně nacházejí překážky.
Tím se výrazně snižuje celkový výpočetní čas bez ztráty kvality výsledné trasy.

Konečný výsledek představuje kombinaci přímé a A*-vypočtené trasy, která spojuje efektivitu i spolehlivost obou přístupů.

\section{Simulace a výsledky}

Navržený algoritmus \textbf{Time-Efficient A*} byl implementován v prostředí \textbf{MATLAB} ve verzi \textbf{7.12.0.635 (R2011a)}.
Pro účely simulace byla použita obrazová data pracovní oblasti robota, pořízená kamerou umístěnou nad scénou.
Tento obraz byl následně převeden do bitmapového formátu, aby mohl být dále zpracováván jako binární mapa s překážkami a volným prostorem.

Během simulace byly jako výstupy programu získávány dvě základní metriky:
\begin{enumerate}
    \item \textbf{Doba zpracování (processing time)}
    \item \textbf{Délka nalezené trasy (path length)}
\end{enumerate}

Simulace byla provedena na počítači s procesorem \textbf{Intel Pentium B960 @ 2.20 GHz}, což umožnilo ověřit spolehlivost a výkonnost algoritmu i na méně výkonných zařízeních.

\newpage
\subsection{Simulace a testy}
V tabulce~\ref{tab:testcases} jsou uvedeny jednotlivé testovací případy, které byly použity pro simulaci.
Ve všech experimentech byla počáteční pozice zdroje (\textit{source}) zachována stejná, zatímco cílová pozice (\textit{goal}) se měnila podle konkrétního scénáře.
Každý případ tedy představuje jinou variantu trasy s odlišnou vzdáleností a rozmístěním překážek.

\begin{table}[H]
\centering
\caption{Přehled testovacích případů použitých pro simulaci}
\label{tab:testcases}
\begin{tabular}{|c|c|c|c|}
\hline
\textbf{S. No.} & \textbf{Případ} & \textbf{Počáteční pozice robota} & \textbf{Konečná pozice robota} \\ \hline
 &  & (souřadnice zdroje) & (souřadnice cíle) \\ \hline
1 & 1 & Počátek = [5, 5] & Cíl = [90, 90] \\ \hline
2 & 2 & Počátek = [5, 5] & Cíl = [70, 20] \\ \hline
3 & 3 & Počátek = [5, 5] & Cíl = [40, 80] \\ \hline
4 & 4 & Počátek = [5, 5] & Cíl = [70, 70] \\ \hline
5 & 5 & Počátek = [5, 5] & Cíl = [35, 90] \\ \hline
6 & 6 & Počátek = [5, 5] & Cíl = [50, 50] \\ \hline
\end{tabular}
\end{table}

\subsection{Výsledky simulací}

Obrázek~\ref{fig:astar_standard} zobrazuje výsledky simulace pomocí konvenčního algoritmu A* s parametry z tabulky~\ref{tab:testcases}.
Naopak obrázek~\ref{fig:astar_te} představuje výsledky získané s použitím vylepšeného (\textit{Time-Efficient}) A* algoritmu, při zachování stejných podmínek.

Výsledky obou simulací byly následně porovnány a shrnuty v tabulce~\ref{tab:comparison}.
Z dosažených dat vyplývá několik pozorování:

\begin{itemize}
    \item Ve většině případů došlo k \textbf{výraznému snížení doby zpracování}, a to při \textbf{pouze nepatrném zvýšení délky trasy}.
    V průměru algoritmus \textit{Time-Efficient A*} potřeboval méně než polovinu času, který vyžadoval klasický A*.

    \item V některých případech byla nejen \textbf{doba zpracování kratší}, ale dokonce i \textbf{celková délka trasy menší} než u klasického A* — tedy ještě optimálnější řešení.

    \item V ojedinělých situacích algoritmus \textit{Time-Efficient A*} dosáhl \textbf{stejné délky trasy} jako původní A*, avšak s \textbf{výrazně kratší dobou výpočtu}, což opět potvrzuje jeho časovou efektivitu.
\end{itemize}

\begin{table}[H]
\centering
\caption{Porovnání výsledků konvenčního a časově efektivního algoritmu A*}
\label{tab:comparison}
\resizebox{\textwidth}{!}{%
\begin{tabular}{|c|c|c|c|c|c|c|c|}
\hline
\textbf{S. No.} &
\multicolumn{2}{c|}{\textbf{Konvenční algoritmus A*}} &
\multicolumn{2}{c|}{\textbf{Navržený algoritmus (T-E A*)}} &
\multicolumn{2}{c|}{\textbf{Porovnání}} \\ \hline
 & \textbf{Doba zpracování} & \textbf{Délka trasy} & \textbf{Doba zpracování} & \textbf{Délka trasy} &
 \textbf{\% snížení doby} & \textbf{\% zvýšení délky} \\ \hline
1 & 6.881205e+001 & 6.976955e+002 & 3.610599e+001 & 6.838391e+002 & 47.54 & 1.98 \\ \hline
2 & 2.388457e+001 & 3.767767e+002 & 1.280379e+000 & 3.914363e+002 & 94.60 & 3.89 \\ \hline
3 & 2.661417e+001 & 4.592031e+002 & 7.462159e+000 & 4.466063e+002 & 71.96 & 2.74 \\ \hline
4 & 4.360535e+001 & 5.123402e+002 & 2.274836e+001 & 5.123402e+002 & 47.83 & 0.00 \\ \hline
5 & 5.088388e+001 & 4.871320e+002 & 4.916487e+001 & 4.871320e+002 & 3.38 & 0.00 \\ \hline
6 & 2.099893e+001 & 3.474874e+002 & 7.036298e+000 & 3.474874e+002 & 66.43 & 0.00 \\ \hline
\end{tabular}%
}
\end{table}

\newpage
Celkově simulace potvrdily, že navržený algoritmus \textbf{Time-Efficient A*} dokáže výrazně zkrátit dobu výpočtu při minimálním dopadu na délku nalezené trasy.
Tento přístup se ukazuje jako vhodný pro rychlé nebo \textit{real-time} aplikace, kde je výpočetní výkon omezený.

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{images/conventional_astar.png}
\caption{Výsledky konvenčního A* algoritmu}
\label{fig:astar_standard}
\end{figure}

\begin{figure}[H]
\centering
\includegraphics[width=0.7\textwidth]{images/proposed_astar.png}
\caption{Výsledky Time-Efficient A* algoritmu}
\label{fig:astar_te}
\end{figure}

\newpage
\section{Závěr}
Experimenty prokázaly, že navržený Time-Efficient A* algoritmus přináší výrazné zrychlení oproti původní implementaci.
V průměru došlo ke zkrácení doby zpracování o 65 \%, přičemž v některých testovacích případech se podařilo dosáhnout až 95\% zlepšení.
Zároveň se délka výsledné trasy prodloužila pouze o přibližně 3,4 \%, což lze považovat za zanedbatelný rozdíl vzhledem k výraznému zisku v rychlosti.

Nejlepších výsledků bylo dosaženo v případech, kdy je vzdálenost mezi počátečním bodem a první překážkou poměrně velká.
V takové situaci může algoritmus využít přímou projekci cesty bez nutnosti výpočtu heuristiky pro každý uzel, což vede k dalšímu snížení výpočetního zatížení.
Oproti klasickému A* se tak eliminuje opakované vyhodnocování sousedních uzlů, které ve standardní verzi algoritmu výrazně zpomaluje běh programu.

V porovnání se standardním A* nabízí Time-efficient A* optimální kompromis mezi přesností a výpočetní náročností, který se dá využít v aplikacích vyžadující rychlé reakce nebo při zpracováním v reálném čase, a to i ve výpočetně slabých zařízeních.

\newpage
\bibliographystyle{plain}
\bibliography{citations}


\end{document}
